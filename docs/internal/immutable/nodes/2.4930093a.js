import{r as Ke,s as Qe,n as Ve}from"../chunks/scheduler.e108d1fd.js";import{d as Xe,S as Ye,i as Ze,e as Ne,a as Q,f,g as H,h as E,y as Se,k as J,m,s as R,j as S,n as w,c as A,l as le,x as e,o as N}from"../chunks/index.a21d6cee.js";function Ee(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Te(l,i){l.d(1),i.delete(l.key)}function qe(l,i,t,n,c,h,y,D,F,j,z,O){let d=l.length,u=h.length,_=d;const P={};for(;_--;)P[l[_].key]=_;const g=[],p=new Map,b=new Map,W=[];for(_=u;_--;){const v=O(c,h,_),o=t(v);let M=y.get(o);M?n&&W.push(()=>M.p(v,i)):(M=j(o,v),M.c()),p.set(o,g[_]=M),o in P&&b.set(o,Math.abs(_-P[o]))}const k=new Set,I=new Set;function s(v){Xe(v,1),v.m(D,z),y.set(v.key,v),z=v.first,u--}for(;d&&u;){const v=g[u-1],o=l[d-1],M=v.key,V=o.key;v===o?(z=v.first,d--,u--):p.has(V)?!y.has(M)||k.has(M)?s(v):I.has(V)?d--:b.get(M)>b.get(V)?(I.add(M),s(v)):(k.add(V),d--):(F(o,y),d--)}for(;d--;){const v=l[d];p.has(v.key)||F(v,y)}for(;u;)s(g[u-1]);return Ke(W),g}function Ue(l,i,t){const n=l.slice();return n[8]=i[t],n}function Be(l,i,t){const n=l.slice();return n[4]=i[t],n[12]=t,n}function $e(l){let i,t='<h1 style="font-size: 2rem;">N/A</h1> <h2 style="font-size: 1.5rem;">Please allow the browser to access your location in order to get the current weather.</h2>';return{c(){i=H("div"),i.innerHTML=t,this.h()},l(n){i=E(n,"DIV",{class:!0,"data-svelte-h":!0}),Se(i)!=="svelte-8xgm5p"&&(i.innerHTML=t),this.h()},h(){J(i,"class","container")},m(n,c){Q(n,i,c)},p:Ve,d(n){n&&f(i)}}}function xe(l){let i,t,n,c,h,y,D,F,j=l[4].temp+"",z,O,d,u,_=l[4].shortforecast+"",P,g,p,b,W,k=l[4].dewpoint+"",I,s,v,o,M,V=l[4].humidity+"",L,x,ee,T,te,K=l[4].windspeed+"",X,ne,ae=l[4].winddirection+"",pe,be,re,ce=l[4].precipitationpercent+"",fe,ke,de,B,Y,Ce="Future Forecast",De,ie,q=[],Pe=new Map,ue,G,Z,je="Hourly Forecast",Fe,se,U=[],ze=new Map,ve=Ee(l[2]);const Le=r=>r[4].id;for(let r=0;r<ve.length;r+=1){let a=Be(l,ve,r),C=Le(a);Pe.set(C,q[r]=Ge(C,a))}let _e=Ee(l[3]);const Re=r=>r[8].id;for(let r=0;r<_e.length;r+=1){let a=Ue(l,_e,r),C=Re(a);ze.set(C,U[r]=Je(C,a))}return{c(){i=H("div"),t=H("div"),n=H("h2"),c=m(l[0]),h=m(", "),y=m(l[1]),D=R(),F=H("h1"),z=m(j),O=m("°F"),d=R(),u=H("h2"),P=m(_),g=R(),p=H("div"),b=H("h2"),W=m("Dewpoint: "),I=m(k),s=m("°F"),v=R(),o=H("h2"),M=m("Humidity: "),L=m(V),x=m("%"),ee=R(),T=H("h2"),te=m("Wind: "),X=m(K),ne=R(),pe=m(ae),be=R(),re=H("h2"),fe=m(ce),ke=m("% chance of precipitation"),de=R(),B=H("div"),Y=H("h1"),Y.textContent=Ce,De=R(),ie=H("div");for(let r=0;r<q.length;r+=1)q[r].c();ue=R(),G=H("div"),Z=H("h1"),Z.textContent=je,Fe=R(),se=H("div");for(let r=0;r<U.length;r+=1)U[r].c();this.h()},l(r){i=E(r,"DIV",{class:!0});var a=S(i);t=E(a,"DIV",{class:!0});var C=S(t);n=E(C,"H2",{});var me=S(n);c=w(me,l[0]),h=w(me,", "),y=w(me,l[1]),me.forEach(f),D=A(C),F=E(C,"H1",{});var Ie=S(F);z=w(Ie,j),O=w(Ie,"°F"),Ie.forEach(f),d=A(C),u=E(C,"H2",{});var Ae=S(u);P=w(Ae,_),Ae.forEach(f),C.forEach(f),g=A(a),p=E(a,"DIV",{class:!0});var $=S(p);b=E($,"H2",{});var we=S(b);W=w(we,"Dewpoint: "),I=w(we,k),s=w(we,"°F"),we.forEach(f),v=A($),o=E($,"H2",{});var ye=S(o);M=w(ye,"Humidity: "),L=w(ye,V),x=w(ye,"%"),ye.forEach(f),ee=A($),T=E($,"H2",{});var he=S(T);te=w(he,"Wind: "),X=w(he,K),ne=A(he),pe=w(he,ae),he.forEach(f),be=A($),re=E($,"H2",{});var Me=S(re);fe=w(Me,ce),ke=w(Me,"% chance of precipitation"),Me.forEach(f),$.forEach(f),a.forEach(f),de=A(r),B=E(r,"DIV",{class:!0,style:!0});var ge=S(B);Y=E(ge,"H1",{style:!0,"data-svelte-h":!0}),Se(Y)!=="svelte-1t4pujd"&&(Y.textContent=Ce),De=A(ge),ie=E(ge,"DIV",{class:!0});var Oe=S(ie);for(let oe=0;oe<q.length;oe+=1)q[oe].l(Oe);Oe.forEach(f),ge.forEach(f),ue=A(r),G=E(r,"DIV",{class:!0,style:!0});var He=S(G);Z=E(He,"H1",{style:!0,"data-svelte-h":!0}),Se(Z)!=="svelte-198oozf"&&(Z.textContent=je),Fe=A(He),se=E(He,"DIV",{class:!0});var We=S(se);for(let oe=0;oe<U.length;oe+=1)U[oe].l(We);We.forEach(f),He.forEach(f),this.h()},h(){J(t,"class","half-container"),J(p,"class","half-container"),J(i,"class","container"),le(Y,"font-size","2.2rem"),le(Y,"margin","1rem"),J(ie,"class","carousel"),J(B,"class","container"),le(B,"flex-direction","column"),le(Z,"font-size","2.2rem"),le(Z,"margin","1rem"),J(se,"class","carousel"),J(G,"class","container"),le(G,"flex-direction","column")},m(r,a){Q(r,i,a),e(i,t),e(t,n),e(n,c),e(n,h),e(n,y),e(t,D),e(t,F),e(F,z),e(F,O),e(t,d),e(t,u),e(u,P),e(i,g),e(i,p),e(p,b),e(b,W),e(b,I),e(b,s),e(p,v),e(p,o),e(o,M),e(o,L),e(o,x),e(p,ee),e(p,T),e(T,te),e(T,X),e(T,ne),e(T,pe),e(p,be),e(p,re),e(re,fe),e(re,ke),Q(r,de,a),Q(r,B,a),e(B,Y),e(B,De),e(B,ie);for(let C=0;C<q.length;C+=1)q[C]&&q[C].m(ie,null);Q(r,ue,a),Q(r,G,a),e(G,Z),e(G,Fe),e(G,se);for(let C=0;C<U.length;C+=1)U[C]&&U[C].m(se,null)},p(r,a){a&1&&N(c,r[0]),a&2&&N(y,r[1]),a&16&&j!==(j=r[4].temp+"")&&N(z,j),a&16&&_!==(_=r[4].shortforecast+"")&&N(P,_),a&16&&k!==(k=r[4].dewpoint+"")&&N(I,k),a&16&&V!==(V=r[4].humidity+"")&&N(L,V),a&16&&K!==(K=r[4].windspeed+"")&&N(X,K),a&16&&ae!==(ae=r[4].winddirection+"")&&N(pe,ae),a&16&&ce!==(ce=r[4].precipitationpercent+"")&&N(fe,ce),a&4&&(ve=Ee(r[2]),q=qe(q,a,Le,1,r,ve,Pe,ie,Te,Ge,null,Be)),a&8&&(_e=Ee(r[3]),U=qe(U,a,Re,1,r,_e,ze,se,Te,Je,null,Ue))},d(r){r&&(f(i),f(de),f(B),f(ue),f(G));for(let a=0;a<q.length;a+=1)q[a].d();for(let a=0;a<U.length;a+=1)U[a].d()}}}function Ge(l,i){let t,n,c=i[4].time+"",h,y,D,F=i[4].temp+"",j,z,O,d,u=(i[4].shortforecast.split(" ")[0]==="Showers"?i[4].shortforecast.split(" ")[0]:i[4].shortforecast.split(" ").slice(0,2).join(" "))+"",_,P,g,p=i[4].precipitationpercent+"",b,W,k;return{key:l,first:null,c(){t=H("div"),n=H("h2"),h=m(c),y=R(),D=H("h2"),j=m(F),z=m("°F"),O=R(),d=H("h2"),_=m(u),P=R(),g=H("h3"),b=m(p),W=m("% chance of precipitation"),k=R(),this.h()},l(I){t=E(I,"DIV",{class:!0});var s=S(t);n=E(s,"H2",{});var v=S(n);h=w(v,c),v.forEach(f),y=A(s),D=E(s,"H2",{});var o=S(D);j=w(o,F),z=w(o,"°F"),o.forEach(f),O=A(s),d=E(s,"H2",{});var M=S(d);_=w(M,u),M.forEach(f),P=A(s),g=E(s,"H3",{});var V=S(g);b=w(V,p),W=w(V,"% chance of precipitation"),V.forEach(f),k=A(s),s.forEach(f),this.h()},h(){J(t,"class","box"),this.first=t},m(I,s){Q(I,t,s),e(t,n),e(n,h),e(t,y),e(t,D),e(D,j),e(D,z),e(t,O),e(t,d),e(d,_),e(t,P),e(t,g),e(g,b),e(g,W),e(t,k)},p(I,s){i=I,s&4&&c!==(c=i[4].time+"")&&N(h,c),s&4&&F!==(F=i[4].temp+"")&&N(j,F),s&4&&u!==(u=(i[4].shortforecast.split(" ")[0]==="Showers"?i[4].shortforecast.split(" ")[0]:i[4].shortforecast.split(" ").slice(0,2).join(" "))+"")&&N(_,u),s&4&&p!==(p=i[4].precipitationpercent+"")&&N(b,p)},d(I){I&&f(t)}}}function Je(l,i){let t,n,c=i[8].time+"",h,y,D,F=i[8].temp+"",j,z,O,d,u=i[8].shortforecast+"",_,P,g,p=i[8].precipitationpercent+"",b,W,k;return{key:l,first:null,c(){t=H("div"),n=H("h2"),h=m(c),y=R(),D=H("h2"),j=m(F),z=m("°F"),O=R(),d=H("h2"),_=m(u),P=R(),g=H("h3"),b=m(p),W=m("% chance of precipitation"),k=R(),this.h()},l(I){t=E(I,"DIV",{class:!0});var s=S(t);n=E(s,"H2",{});var v=S(n);h=w(v,c),v.forEach(f),y=A(s),D=E(s,"H2",{});var o=S(D);j=w(o,F),z=w(o,"°F"),o.forEach(f),O=A(s),d=E(s,"H2",{});var M=S(d);_=w(M,u),M.forEach(f),P=A(s),g=E(s,"H3",{});var V=S(g);b=w(V,p),W=w(V,"% chance of precipitation"),V.forEach(f),k=A(s),s.forEach(f),this.h()},h(){J(t,"class","box"),this.first=t},m(I,s){Q(I,t,s),e(t,n),e(n,h),e(t,y),e(t,D),e(D,j),e(D,z),e(t,O),e(t,d),e(d,_),e(t,P),e(t,g),e(g,b),e(g,W),e(t,k)},p(I,s){i=I,s&8&&c!==(c=i[8].time+"")&&N(h,c),s&8&&F!==(F=i[8].temp+"")&&N(j,F),s&8&&u!==(u=i[8].shortforecast+"")&&N(_,u),s&8&&p!==(p=i[8].precipitationpercent+"")&&N(b,p)},d(I){I&&f(t)}}}function et(l){let i;function t(h,y){return h[2].length>0?xe:$e}let n=t(l),c=n(l);return{c(){c.c(),i=Ne()},l(h){c.l(h),i=Ne()},m(h,y){c.m(h,y),Q(h,i,y)},p(h,[y]){n===(n=t(h))&&c?c.p(h,y):(c.d(1),c=n(h),c&&(c.c(),c.m(i.parentNode,i)))},i:Ve,o:Ve,d(h){h&&f(i),c.d(h)}}}function tt(l,i,t){let n="",c="",h=[],y=[];class D{constructor(O,d,u,_,P,g,p,b,W){this.id=O,this.time=d,this.temp=u,this.humidity=_,this.windspeed=P,this.winddirection=g,this.dewpoint=p*9/5+32,this.shortforecast=b,this.precipitationpercent=W}}let F=new D(0,"","","","","","","","");async function j(z,O){var d,u,_,P;try{const p=await(await fetch(`https://api.weather.gov/points/${z},${O}`)).json(),b=p.properties.forecast;t(0,n=p.properties.relativeLocation.properties.city),t(1,c=p.properties.relativeLocation.properties.state);const k=await(await fetch(b)).json();t(2,h=[]);for(let o=0;o<14;o++){const M=o,V=k.properties.periods[o].name,L=k.properties.periods[o].temperature,x=((d=k.properties.periods[o].relativeHumidity)==null?void 0:d.value)||"",ee=k.properties.periods[o].windSpeed,T=k.properties.periods[o].windDirection,te=((u=k.properties.periods[o].dewpoint)==null?void 0:u.value)||"",K=k.properties.periods[o].shortForecast,X=((_=k.properties.periods[o].probabilityOfPrecipitation)==null?void 0:_.value)||0;h.push(new D(M,V,L,x,ee,T,te,K,X))}const s=await(await fetch(`${b}/hourly`)).json();t(3,y=[]);let v=new D(0,"",s.properties.periods[0].temperature,s.properties.periods[0].relativeHumidity.value,s.properties.periods[0].windSpeed,s.properties.periods[0].windDirection,s.properties.periods[0].dewpoint.value,s.properties.periods[0].shortForecast,s.properties.periods[0].probabilityOfPrecipitation.value);t(4,F=v);for(let o=1;o<23;o++){const M=o,V=new Date;V.setHours(V.getHours()+o);let L=V.getHours();L>12?(L=L-12,L=L+" PM"):L==0?L="12 AM":L==12?L="12 PM":L=L+" AM";const x=s.properties.periods[o].temperature,ee=((P=s.properties.periods[o].relativeHumidity)==null?void 0:P.value)||"",T=s.properties.periods[o].windSpeed,te=s.properties.periods[o].windDirection,K=s.properties.periods[o].dewpoint.value,X=s.properties.periods[o].shortForecast,ne=s.properties.periods[o].probabilityOfPrecipitation.value?s.properties.periods[o].probabilityOfPrecipitation.value:0;y.push(new D(M,L,x,ee,T,te,K,X,ne))}}catch(g){console.log(g)}}return j(40.7128,-74.006),[n,c,h,y,F]}class ot extends Ye{constructor(i){super(),Ze(this,i,tt,et,Qe,{})}}export{ot as component};
