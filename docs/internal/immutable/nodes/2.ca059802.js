import{r as Be,s as Ge,n as De}from"../chunks/scheduler.e108d1fd.js";import{d as Je,S as Ke,i as Qe,g as H,s as j,e as Re,h as b,j as I,c as O,y as ge,f as v,k as U,a as B,x as e,z as Te,A as Ve,B as Ye,m as g,n as y,o as q}from"../chunks/index.786a472e.js";function we(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Ne(a,t){a.d(1),t.delete(a.key)}function Ae(a,t,i,r,C,E,M,w,m,P,R,N){let f=a.length,h=E.length,p=f;const u={};for(;p--;)u[a[p].key]=p;const d=[],D=new Map,F=new Map,S=[];for(p=h;p--;){const c=N(C,E,p),k=i(c);let l=M.get(k);l?r&&S.push(()=>l.p(c,t)):(l=P(k,c),l.c()),D.set(k,d[p]=l),k in u&&F.set(k,Math.abs(p-u[k]))}const A=new Set,_=new Set;function s(c){Je(c,1),c.m(w,R),M.set(c.key,c),R=c.first,h--}for(;f&&h;){const c=d[h-1],k=a[f-1],l=c.key,T=k.key;c===k?(R=c.first,f--,h--):D.has(T)?!M.has(l)||A.has(l)?s(c):_.has(T)?f--:F.get(l)>F.get(T)?(_.add(l),s(c)):(A.add(T),f--):(m(k,M),f--)}for(;f--;){const c=a[f];D.has(c.key)||m(c,M)}for(;h;)s(d[h-1]);return Be(S),d}function qe(a,t,i){const r=a.slice();return r[12]=t[i],r}function We(a,t,i){const r=a.slice();return r[5]=t[i],r[16]=i,r}function Xe(a){let t,i='<h1 style="font-size: 3rem;">Enter a location to get the weather</h1>';return{c(){t=H("div"),t.innerHTML=i,this.h()},l(r){t=b(r,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-13kn1hw"&&(t.innerHTML=i),this.h()},h(){U(t,"class","container")},m(r,C){B(r,t,C)},p:De,d(r){r&&v(t)}}}function Ze(a){let t,i,r,C,E,M,w,m=a[5].temp+"",P,R,N,f,h=a[5].shortforecast+"",p,u,d,D,F=a[5].dewpoint+"",S,A,_,s,c,k=a[5].humidity+"",l,T,G,L,$,J=a[5].windspeed+"",X,x,K=a[5].winddirection+"",Z,re,oe,le=a[5].precipitationpercent+"",ce,ye,pe,Q,se,Fe="Future Forecast",He,ee,W=[],Ce=new Map,he,Y,ne,Me="Hourly Forecast",be,te,z=[],Ie=new Map,de=we(a[3]);const Pe=o=>o[5].id;for(let o=0;o<de.length;o+=1){let n=We(a,de,o),V=Pe(n);Ce.set(V,W[o]=ze(V,n))}let fe=we(a[4]);const Le=o=>o[12].id;for(let o=0;o<fe.length;o+=1){let n=qe(a,fe,o),V=Le(n);Ie.set(V,z[o]=Ue(V,n))}return{c(){t=H("div"),i=H("h3"),r=g(a[1]),C=g(", "),E=g(a[2]),M=j(),w=H("h1"),P=g(m),R=g("°F"),N=j(),f=H("h2"),p=g(h),u=j(),d=H("h2"),D=g("Dewpoint: "),S=g(F),A=g("°F"),_=j(),s=H("h2"),c=g("Humidity: "),l=g(k),T=g("%"),G=j(),L=H("h2"),$=g("Wind: "),X=g(J),x=j(),Z=g(K),re=j(),oe=H("h2"),ce=g(le),ye=g("% chance of precipitation"),pe=j(),Q=H("div"),se=H("h1"),se.textContent=Fe,He=j(),ee=H("section");for(let o=0;o<W.length;o+=1)W[o].c();he=j(),Y=H("div"),ne=H("h1"),ne.textContent=Me,be=j(),te=H("section");for(let o=0;o<z.length;o+=1)z[o].c();this.h()},l(o){t=b(o,"DIV",{class:!0});var n=I(t);i=b(n,"H3",{});var V=I(i);r=y(V,a[1]),C=y(V,", "),E=y(V,a[2]),V.forEach(v),M=O(n),w=b(n,"H1",{});var Ee=I(w);P=y(Ee,m),R=y(Ee,"°F"),Ee.forEach(v),N=O(n),f=b(n,"H2",{});var Se=I(f);p=y(Se,h),Se.forEach(v),u=O(n),d=b(n,"H2",{});var ue=I(d);D=y(ue,"Dewpoint: "),S=y(ue,F),A=y(ue,"°F"),ue.forEach(v),_=O(n),s=b(n,"H2",{});var ve=I(s);c=y(ve,"Humidity: "),l=y(ve,k),T=y(ve,"%"),ve.forEach(v),G=O(n),L=b(n,"H2",{});var ae=I(L);$=y(ae,"Wind: "),X=y(ae,J),x=O(ae),Z=y(ae,K),ae.forEach(v),re=O(n),oe=b(n,"H2",{});var ke=I(oe);ce=y(ke,le),ye=y(ke,"% chance of precipitation"),ke.forEach(v),n.forEach(v),pe=O(o),Q=b(o,"DIV",{class:!0});var _e=I(Q);se=b(_e,"H1",{"data-svelte-h":!0}),ge(se)!=="svelte-12ni5iq"&&(se.textContent=Fe),He=O(_e),ee=b(_e,"SECTION",{class:!0});var je=I(ee);for(let ie=0;ie<W.length;ie+=1)W[ie].l(je);je.forEach(v),_e.forEach(v),he=O(o),Y=b(o,"DIV",{class:!0});var me=I(Y);ne=b(me,"H1",{"data-svelte-h":!0}),ge(ne)!=="svelte-jd6qa0"&&(ne.textContent=Me),be=O(me),te=b(me,"SECTION",{class:!0});var Oe=I(te);for(let ie=0;ie<z.length;ie+=1)z[ie].l(Oe);Oe.forEach(v),me.forEach(v),this.h()},h(){U(t,"class","container"),U(ee,"class","forecast-grid"),U(Q,"class","futurecontainer"),U(te,"class","forecast-grid"),U(Y,"class","futurecontainer")},m(o,n){B(o,t,n),e(t,i),e(i,r),e(i,C),e(i,E),e(t,M),e(t,w),e(w,P),e(w,R),e(t,N),e(t,f),e(f,p),e(t,u),e(t,d),e(d,D),e(d,S),e(d,A),e(t,_),e(t,s),e(s,c),e(s,l),e(s,T),e(t,G),e(t,L),e(L,$),e(L,X),e(L,x),e(L,Z),e(t,re),e(t,oe),e(oe,ce),e(oe,ye),B(o,pe,n),B(o,Q,n),e(Q,se),e(Q,He),e(Q,ee);for(let V=0;V<W.length;V+=1)W[V]&&W[V].m(ee,null);B(o,he,n),B(o,Y,n),e(Y,ne),e(Y,be),e(Y,te);for(let V=0;V<z.length;V+=1)z[V]&&z[V].m(te,null)},p(o,n){n&2&&q(r,o[1]),n&4&&q(E,o[2]),n&32&&m!==(m=o[5].temp+"")&&q(P,m),n&32&&h!==(h=o[5].shortforecast+"")&&q(p,h),n&32&&F!==(F=o[5].dewpoint+"")&&q(S,F),n&32&&k!==(k=o[5].humidity+"")&&q(l,k),n&32&&J!==(J=o[5].windspeed+"")&&q(X,J),n&32&&K!==(K=o[5].winddirection+"")&&q(Z,K),n&32&&le!==(le=o[5].precipitationpercent+"")&&q(ce,le),n&8&&(de=we(o[3]),W=Ae(W,n,Pe,1,o,de,Ce,ee,Ne,ze,null,We)),n&16&&(fe=we(o[4]),z=Ae(z,n,Le,1,o,fe,Ie,te,Ne,Ue,null,qe))},d(o){o&&(v(t),v(pe),v(Q),v(he),v(Y));for(let n=0;n<W.length;n+=1)W[n].d();for(let n=0;n<z.length;n+=1)z[n].d()}}}function ze(a,t){let i,r,C=t[5].time+"",E,M,w,m=t[5].temp+"",P,R,N,f,h=t[5].shortforecast+"",p,u,d,D=t[5].precipitationpercent+"",F,S,A;return{key:a,first:null,c(){i=H("div"),r=H("h3"),E=g(C),M=j(),w=H("h2"),P=g(m),R=g("°F"),N=j(),f=H("h2"),p=g(h),u=j(),d=H("h2"),F=g(D),S=g("% chance of precipitation"),A=j(),this.h()},l(_){i=b(_,"DIV",{class:!0});var s=I(i);r=b(s,"H3",{});var c=I(r);E=y(c,C),c.forEach(v),M=O(s),w=b(s,"H2",{});var k=I(w);P=y(k,m),R=y(k,"°F"),k.forEach(v),N=O(s),f=b(s,"H2",{});var l=I(f);p=y(l,h),l.forEach(v),u=O(s),d=b(s,"H2",{});var T=I(d);F=y(T,D),S=y(T,"% chance of precipitation"),T.forEach(v),A=O(s),s.forEach(v),this.h()},h(){U(i,"class","card"),this.first=i},m(_,s){B(_,i,s),e(i,r),e(r,E),e(i,M),e(i,w),e(w,P),e(w,R),e(i,N),e(i,f),e(f,p),e(i,u),e(i,d),e(d,F),e(d,S),e(i,A)},p(_,s){t=_,s&8&&C!==(C=t[5].time+"")&&q(E,C),s&8&&m!==(m=t[5].temp+"")&&q(P,m),s&8&&h!==(h=t[5].shortforecast+"")&&q(p,h),s&8&&D!==(D=t[5].precipitationpercent+"")&&q(F,D)},d(_){_&&v(i)}}}function Ue(a,t){let i,r,C=t[12].time+"",E,M,w,m=t[12].temp+"",P,R,N,f,h=t[12].shortforecast+"",p,u,d,D=t[12].precipitationpercent+"",F,S,A;return{key:a,first:null,c(){i=H("div"),r=H("h3"),E=g(C),M=j(),w=H("h2"),P=g(m),R=g("°F"),N=j(),f=H("h2"),p=g(h),u=j(),d=H("h2"),F=g(D),S=g("% chance of precipitation"),A=j(),this.h()},l(_){i=b(_,"DIV",{class:!0});var s=I(i);r=b(s,"H3",{});var c=I(r);E=y(c,C),c.forEach(v),M=O(s),w=b(s,"H2",{});var k=I(w);P=y(k,m),R=y(k,"°F"),k.forEach(v),N=O(s),f=b(s,"H2",{});var l=I(f);p=y(l,h),l.forEach(v),u=O(s),d=b(s,"H2",{});var T=I(d);F=y(T,D),S=y(T,"% chance of precipitation"),T.forEach(v),A=O(s),s.forEach(v),this.h()},h(){U(i,"class","card"),this.first=i},m(_,s){B(_,i,s),e(i,r),e(r,E),e(i,M),e(i,w),e(w,P),e(w,R),e(i,N),e(i,f),e(f,p),e(i,u),e(i,d),e(d,F),e(d,S),e(i,A)},p(_,s){t=_,s&16&&C!==(C=t[12].time+"")&&q(E,C),s&16&&m!==(m=t[12].temp+"")&&q(P,m),s&16&&h!==(h=t[12].shortforecast+"")&&q(p,h),s&16&&D!==(D=t[12].precipitationpercent+"")&&q(F,D)},d(_){_&&v(i)}}}function $e(a){let t,i,r,C,E,M="Submit",w,m,P,R;function N(p,u){return p[3].length>0?Ze:Xe}let f=N(a),h=f(a);return{c(){t=H("div"),i=H("form"),r=H("input"),C=j(),E=H("button"),E.textContent=M,w=j(),h.c(),m=Re(),this.h()},l(p){t=b(p,"DIV",{class:!0});var u=I(t);i=b(u,"FORM",{});var d=I(i);r=b(d,"INPUT",{type:!0,placeholder:!0}),C=O(d),E=b(d,"BUTTON",{type:!0,"data-svelte-h":!0}),ge(E)!=="svelte-1ou7dtz"&&(E.textContent=M),d.forEach(v),u.forEach(v),w=O(p),h.l(p),m=Re(),this.h()},h(){U(r,"type","text"),U(r,"placeholder","Enter Location"),U(E,"type","submit"),U(t,"class","inputbuttonholder")},m(p,u){B(p,t,u),e(t,i),e(i,r),Te(r,a[0]),e(i,C),e(i,E),B(p,w,u),h.m(p,u),B(p,m,u),P||(R=[Ve(r,"input",a[7]),Ve(i,"submit",Ye(a[8]))],P=!0)},p(p,[u]){u&1&&r.value!==p[0]&&Te(r,p[0]),f===(f=N(p))&&h?h.p(p,u):(h.d(1),h=f(p),h&&(h.c(),h.m(m.parentNode,m)))},i:De,o:De,d(p){p&&(v(t),v(w),v(m)),h.d(p),P=!1,Be(R)}}}function xe(a,t,i){let r="",C="",E="",M=[],w=[];class m{constructor(d,D,F,S,A,_,s,c,k){this.id=d,this.time=D,this.temp=F,this.humidity=S,this.windspeed=A,this.winddirection=_,this.dewpoint=s*9/5+32,this.shortforecast=c,this.precipitationpercent=k}}let P=new m(0,"","","","","","","","");async function R(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(u){f(u.coords.latitude,u.coords.longitude)}):console.log("Geolocation is not supported by this browser.")}R();async function N(u){try{const D=await(await fetch(`https://www.mapquestapi.com/geocoding/v1/address?key=wjpJ15pusl6QcDsyKeAHRmdjCN2LYPoF&location=${u}`)).json(),F=D.results[0].locations[0].latLng.lat,S=D.results[0].locations[0].latLng.lng;f(F,S),i(0,r="")}catch(d){console.log(d)}}async function f(u,d){try{const F=await(await fetch(`https://api.weather.gov/points/${u},${d}`)).json(),S=F.properties.forecast;i(1,C=F.properties.relativeLocation.properties.city),i(2,E=F.properties.relativeLocation.properties.state);const _=await(await fetch(S)).json();i(3,M=[]);for(let l=1;l<14;l++){const T=l,G=_.properties.periods[l].name,L=_.properties.periods[l].temperature,$=_.properties.periods[l].relativeHumidity.value,J=_.properties.periods[l].windSpeed,X=_.properties.periods[l].windDirection,x=_.properties.periods[l].dewpoint.value,K=_.properties.periods[l].shortForecast,Z=_.properties.periods[l].probabilityOfPrecipitation.value?_.properties.periods[l].probabilityOfPrecipitation.value:0;M.push(new m(T,G,L,$,J,X,x,K,Z))}const c=await(await fetch(`${S}/hourly`)).json();i(4,w=[]);let k=new m(0,"",c.properties.periods[0].temperature,c.properties.periods[0].relativeHumidity.value,c.properties.periods[0].windSpeed,c.properties.periods[0].windDirection,c.properties.periods[0].dewpoint.value,c.properties.periods[0].shortForecast,c.properties.periods[0].probabilityOfPrecipitation.value);i(5,P=k);for(let l=1;l<23;l++){const T=l,G=new Date;G.setHours(G.getHours()+l);let L=G.getHours();L>12?(L=L-12,L=L+" PM"):L==0?L="12 AM":L==12?L="12 PM":L=L+" AM";const $=c.properties.periods[l].temperature,J=c.properties.periods[l].relativeHumidity.value,X=c.properties.periods[l].windSpeed,x=c.properties.periods[l].windDirection,K=c.properties.periods[l].dewpoint.value,Z=c.properties.periods[l].shortForecast,re=c.properties.periods[l].probabilityOfPrecipitation.value?c.properties.periods[l].probabilityofPrecipitation.value:0;w.push(new m(T,L,$,J,X,x,K,Z,re))}}catch(D){console.log(D)}}function h(){r=this.value,i(0,r)}return[r,C,E,M,w,P,N,h,()=>{N(r)}]}class it extends Ke{constructor(t){super(),Qe(this,t,xe,$e,Ge,{})}}export{it as component};
