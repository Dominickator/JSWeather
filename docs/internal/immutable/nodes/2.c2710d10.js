import{r as Be,s as Ge,n as De}from"../chunks/scheduler.e108d1fd.js";import{d as Je,S as Ke,i as Qe,g as y,s as S,e as Ne,h as b,j as I,c as O,y as ce,f as u,k as W,a as G,x as e,z as Re,A as Ce,B as Ye,m as E,n as k,o as q}from"../chunks/index.786a472e.js";function ge(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ve(l,i){l.d(1),i.delete(l.key)}function Ae(l,i,t,r,D,H,L,m,f,j,P,T){let v=l.length,w=H.length,C=v;const N={};for(;C--;)N[l[C].key]=C;const a=[],c=new Map,d=new Map,g=[];for(C=w;C--;){const _=T(D,H,C),p=t(_);let M=L.get(p);M?r&&g.push(()=>M.p(_,i)):(M=j(p,_),M.c()),c.set(p,a[C]=M),p in N&&d.set(p,Math.abs(C-N[p]))}const R=new Set,F=new Set;function o(_){Je(_,1),_.m(m,P),L.set(_.key,_),P=_.first,w--}for(;v&&w;){const _=a[w-1],p=l[v-1],M=_.key,h=p.key;_===p?(P=_.first,v--,w--):c.has(h)?!L.has(M)||R.has(M)?o(_):F.has(h)?v--:d.get(M)>d.get(h)?(F.add(M),o(_)):(R.add(h),v--):(f(p,L),v--)}for(;v--;){const _=l[v];c.has(_.key)||f(_,L)}for(;w;)o(a[w-1]);return Be(g),a}function qe(l,i,t){const r=l.slice();return r[13]=i[t],r}function Ue(l,i,t){const r=l.slice();return r[5]=i[t],r[17]=t,r}function Xe(l){let i,t='<h1 style="font-size: 2rem;">N/A</h1> <h2 style="font-size: 1.5rem;">Enter a location or press current location button to get the weather.</h2>';return{c(){i=y("div"),i.innerHTML=t,this.h()},l(r){i=b(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(i)!=="svelte-jda3je"&&(i.innerHTML=t),this.h()},h(){W(i,"class","container")},m(r,D){G(r,i,D)},p:De,d(r){r&&u(i)}}}function Ze(l){let i,t,r,D,H,L,m,f=l[5].temp+"",j,P,T,v,w=l[5].shortforecast+"",C,N,a,c,d=l[5].dewpoint+"",g,R,F,o,_,p=l[5].humidity+"",M,h,x,U,A,J=l[5].windspeed+"",X,ee,K=l[5].winddirection+"",Z,te,$,re=l[5].precipitationpercent+"",pe,ye,he,Q,ne,Fe="Future Forecast",be,ie,z=[],Me=new Map,de,Y,le,Le="Hourly Forecast",He,oe,B=[],Ie=new Map,ue=ge(l[3]);const Pe=s=>s[5].id;for(let s=0;s<ue.length;s+=1){let n=Ue(l,ue,s),V=Pe(n);Me.set(V,z[s]=We(V,n))}let fe=ge(l[4]);const Te=s=>s[13].id;for(let s=0;s<fe.length;s+=1){let n=qe(l,fe,s),V=Te(n);Ie.set(V,B[s]=ze(V,n))}return{c(){i=y("div"),t=y("h3"),r=E(l[1]),D=E(", "),H=E(l[2]),L=S(),m=y("h1"),j=E(f),P=E("°F"),T=S(),v=y("h2"),C=E(w),N=S(),a=y("h2"),c=E("Dewpoint: "),g=E(d),R=E("°F"),F=S(),o=y("h2"),_=E("Humidity: "),M=E(p),h=E("%"),x=S(),U=y("h2"),A=E("Wind: "),X=E(J),ee=S(),Z=E(K),te=S(),$=y("h2"),pe=E(re),ye=E("% chance of precipitation"),he=S(),Q=y("div"),ne=y("h1"),ne.textContent=Fe,be=S(),ie=y("section");for(let s=0;s<z.length;s+=1)z[s].c();de=S(),Y=y("div"),le=y("h1"),le.textContent=Le,He=S(),oe=y("section");for(let s=0;s<B.length;s+=1)B[s].c();this.h()},l(s){i=b(s,"DIV",{class:!0});var n=I(i);t=b(n,"H3",{});var V=I(t);r=k(V,l[1]),D=k(V,", "),H=k(V,l[2]),V.forEach(u),L=O(n),m=b(n,"H1",{});var Ee=I(m);j=k(Ee,f),P=k(Ee,"°F"),Ee.forEach(u),T=O(n),v=b(n,"H2",{});var je=I(v);C=k(je,w),je.forEach(u),N=O(n),a=b(n,"H2",{});var ve=I(a);c=k(ve,"Dewpoint: "),g=k(ve,d),R=k(ve,"°F"),ve.forEach(u),F=O(n),o=b(n,"H2",{});var _e=I(o);_=k(_e,"Humidity: "),M=k(_e,p),h=k(_e,"%"),_e.forEach(u),x=O(n),U=b(n,"H2",{});var ae=I(U);A=k(ae,"Wind: "),X=k(ae,J),ee=O(ae),Z=k(ae,K),ae.forEach(u),te=O(n),$=b(n,"H2",{});var ke=I($);pe=k(ke,re),ye=k(ke,"% chance of precipitation"),ke.forEach(u),n.forEach(u),he=O(s),Q=b(s,"DIV",{class:!0});var me=I(Q);ne=b(me,"H1",{"data-svelte-h":!0}),ce(ne)!=="svelte-12ni5iq"&&(ne.textContent=Fe),be=O(me),ie=b(me,"SECTION",{class:!0});var Se=I(ie);for(let se=0;se<z.length;se+=1)z[se].l(Se);Se.forEach(u),me.forEach(u),de=O(s),Y=b(s,"DIV",{class:!0});var we=I(Y);le=b(we,"H1",{"data-svelte-h":!0}),ce(le)!=="svelte-jd6qa0"&&(le.textContent=Le),He=O(we),oe=b(we,"SECTION",{class:!0});var Oe=I(oe);for(let se=0;se<B.length;se+=1)B[se].l(Oe);Oe.forEach(u),we.forEach(u),this.h()},h(){W(i,"class","container"),W(ie,"class","forecast-grid"),W(Q,"class","futurecontainer"),W(oe,"class","forecast-grid"),W(Y,"class","futurecontainer")},m(s,n){G(s,i,n),e(i,t),e(t,r),e(t,D),e(t,H),e(i,L),e(i,m),e(m,j),e(m,P),e(i,T),e(i,v),e(v,C),e(i,N),e(i,a),e(a,c),e(a,g),e(a,R),e(i,F),e(i,o),e(o,_),e(o,M),e(o,h),e(i,x),e(i,U),e(U,A),e(U,X),e(U,ee),e(U,Z),e(i,te),e(i,$),e($,pe),e($,ye),G(s,he,n),G(s,Q,n),e(Q,ne),e(Q,be),e(Q,ie);for(let V=0;V<z.length;V+=1)z[V]&&z[V].m(ie,null);G(s,de,n),G(s,Y,n),e(Y,le),e(Y,He),e(Y,oe);for(let V=0;V<B.length;V+=1)B[V]&&B[V].m(oe,null)},p(s,n){n&2&&q(r,s[1]),n&4&&q(H,s[2]),n&32&&f!==(f=s[5].temp+"")&&q(j,f),n&32&&w!==(w=s[5].shortforecast+"")&&q(C,w),n&32&&d!==(d=s[5].dewpoint+"")&&q(g,d),n&32&&p!==(p=s[5].humidity+"")&&q(M,p),n&32&&J!==(J=s[5].windspeed+"")&&q(X,J),n&32&&K!==(K=s[5].winddirection+"")&&q(Z,K),n&32&&re!==(re=s[5].precipitationpercent+"")&&q(pe,re),n&8&&(ue=ge(s[3]),z=Ae(z,n,Pe,1,s,ue,Me,ie,Ve,We,null,Ue)),n&16&&(fe=ge(s[4]),B=Ae(B,n,Te,1,s,fe,Ie,oe,Ve,ze,null,qe))},d(s){s&&(u(i),u(he),u(Q),u(de),u(Y));for(let n=0;n<z.length;n+=1)z[n].d();for(let n=0;n<B.length;n+=1)B[n].d()}}}function We(l,i){let t,r,D=i[5].time+"",H,L,m,f=i[5].temp+"",j,P,T,v,w=i[5].shortforecast+"",C,N,a,c=i[5].precipitationpercent+"",d,g,R;return{key:l,first:null,c(){t=y("div"),r=y("h3"),H=E(D),L=S(),m=y("h2"),j=E(f),P=E("°F"),T=S(),v=y("h2"),C=E(w),N=S(),a=y("h2"),d=E(c),g=E("% chance of precipitation"),R=S(),this.h()},l(F){t=b(F,"DIV",{class:!0});var o=I(t);r=b(o,"H3",{});var _=I(r);H=k(_,D),_.forEach(u),L=O(o),m=b(o,"H2",{});var p=I(m);j=k(p,f),P=k(p,"°F"),p.forEach(u),T=O(o),v=b(o,"H2",{});var M=I(v);C=k(M,w),M.forEach(u),N=O(o),a=b(o,"H2",{});var h=I(a);d=k(h,c),g=k(h,"% chance of precipitation"),h.forEach(u),R=O(o),o.forEach(u),this.h()},h(){W(t,"class","card"),this.first=t},m(F,o){G(F,t,o),e(t,r),e(r,H),e(t,L),e(t,m),e(m,j),e(m,P),e(t,T),e(t,v),e(v,C),e(t,N),e(t,a),e(a,d),e(a,g),e(t,R)},p(F,o){i=F,o&8&&D!==(D=i[5].time+"")&&q(H,D),o&8&&f!==(f=i[5].temp+"")&&q(j,f),o&8&&w!==(w=i[5].shortforecast+"")&&q(C,w),o&8&&c!==(c=i[5].precipitationpercent+"")&&q(d,c)},d(F){F&&u(t)}}}function ze(l,i){let t,r,D=i[13].time+"",H,L,m,f=i[13].temp+"",j,P,T,v,w=i[13].shortforecast+"",C,N,a,c=i[13].precipitationpercent+"",d,g,R;return{key:l,first:null,c(){t=y("div"),r=y("h3"),H=E(D),L=S(),m=y("h2"),j=E(f),P=E("°F"),T=S(),v=y("h2"),C=E(w),N=S(),a=y("h2"),d=E(c),g=E("% chance of precipitation"),R=S(),this.h()},l(F){t=b(F,"DIV",{class:!0});var o=I(t);r=b(o,"H3",{});var _=I(r);H=k(_,D),_.forEach(u),L=O(o),m=b(o,"H2",{});var p=I(m);j=k(p,f),P=k(p,"°F"),p.forEach(u),T=O(o),v=b(o,"H2",{});var M=I(v);C=k(M,w),M.forEach(u),N=O(o),a=b(o,"H2",{});var h=I(a);d=k(h,c),g=k(h,"% chance of precipitation"),h.forEach(u),R=O(o),o.forEach(u),this.h()},h(){W(t,"class","card"),this.first=t},m(F,o){G(F,t,o),e(t,r),e(r,H),e(t,L),e(t,m),e(m,j),e(m,P),e(t,T),e(t,v),e(v,C),e(t,N),e(t,a),e(a,d),e(a,g),e(t,R)},p(F,o){i=F,o&16&&D!==(D=i[13].time+"")&&q(H,D),o&16&&f!==(f=i[13].temp+"")&&q(j,f),o&16&&w!==(w=i[13].shortforecast+"")&&q(C,w),o&16&&c!==(c=i[13].precipitationpercent+"")&&q(d,c)},d(F){F&&u(t)}}}function $e(l){let i,t,r,D,H,L="Submit",m,f,j='<img alt="Get Location" src="/weather-svelte/location.png"/>',P,T,v,w;function C(c,d){return c[3].length>0?Ze:Xe}let N=C(l),a=N(l);return{c(){i=y("div"),t=y("form"),r=y("input"),D=S(),H=y("button"),H.textContent=L,m=S(),f=y("button"),f.innerHTML=j,P=S(),a.c(),T=Ne(),this.h()},l(c){i=b(c,"DIV",{class:!0});var d=I(i);t=b(d,"FORM",{});var g=I(t);r=b(g,"INPUT",{type:!0,placeholder:!0}),D=O(g),H=b(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ce(H)!=="svelte-xweb6a"&&(H.textContent=L),m=O(g),f=b(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(f)!=="svelte-p65dt3"&&(f.innerHTML=j),g.forEach(u),d.forEach(u),P=O(c),a.l(c),T=Ne(),this.h()},h(){W(r,"type","text"),W(r,"placeholder","Enter Location"),W(H,"class","inputbuttonholderbutton"),W(H,"type","submit"),W(f,"class","image-button"),W(i,"class","inputbuttonholder")},m(c,d){G(c,i,d),e(i,t),e(t,r),Re(r,l[0]),e(t,D),e(t,H),e(t,m),e(t,f),G(c,P,d),a.m(c,d),G(c,T,d),v||(w=[Ce(r,"input",l[8]),Ce(f,"click",l[9]),Ce(t,"submit",Ye(l[10]))],v=!0)},p(c,[d]){d&1&&r.value!==c[0]&&Re(r,c[0]),N===(N=C(c))&&a?a.p(c,d):(a.d(1),a=N(c),a&&(a.c(),a.m(T.parentNode,T)))},i:De,o:De,d(c){c&&(u(i),u(P),u(T)),a.d(c),v=!1,Be(w)}}}function xe(l,i,t){let r="",D="",H="",L=[],m=[];class f{constructor(c,d,g,R,F,o,_,p,M){this.id=c,this.time=d,this.temp=g,this.humidity=R,this.windspeed=F,this.winddirection=o,this.dewpoint=_*9/5+32,this.shortforecast=p,this.precipitationpercent=M}}let j=new f(0,"","","","","","","","");async function P(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){v(a.coords.latitude,a.coords.longitude)}):console.log("Geolocation is not supported by this browser.")}async function T(a){try{const d=await(await fetch(`https://www.mapquestapi.com/geocoding/v1/address?key=wjpJ15pusl6QcDsyKeAHRmdjCN2LYPoF&location=${a}`)).json(),g=d.results[0].locations[0].latLng.lat,R=d.results[0].locations[0].latLng.lng;v(g,R),t(0,r="")}catch(c){console.log(c)}}async function v(a,c){try{const g=await(await fetch(`https://api.weather.gov/points/${a},${c}`)).json(),R=g.properties.forecast;t(1,D=g.properties.relativeLocation.properties.city),t(2,H=g.properties.relativeLocation.properties.state);const o=await(await fetch(R)).json();t(3,L=[]);for(let h=0;h<14;h++){const x=h,U=o.properties.periods[h].name,A=o.properties.periods[h].temperature,J=o.properties.periods[h].relativeHumidity.value,X=o.properties.periods[h].windSpeed,ee=o.properties.periods[h].windDirection,K=o.properties.periods[h].dewpoint.value,Z=o.properties.periods[h].shortForecast,te=o.properties.periods[h].probabilityOfPrecipitation.value?o.properties.periods[h].probabilityOfPrecipitation.value:0;L.push(new f(x,U,A,J,X,ee,K,Z,te))}const p=await(await fetch(`${R}/hourly`)).json();t(4,m=[]);let M=new f(0,"",p.properties.periods[0].temperature,p.properties.periods[0].relativeHumidity.value,p.properties.periods[0].windSpeed,p.properties.periods[0].windDirection,p.properties.periods[0].dewpoint.value,p.properties.periods[0].shortForecast,p.properties.periods[0].probabilityOfPrecipitation.value);t(5,j=M);for(let h=1;h<23;h++){const x=h,U=new Date;U.setHours(U.getHours()+h);let A=U.getHours();A>12?(A=A-12,A=A+" PM"):A==0?A="12 AM":A==12?A="12 PM":A=A+" AM";const J=p.properties.periods[h].temperature,X=p.properties.periods[h].relativeHumidity.value,ee=p.properties.periods[h].windSpeed,K=p.properties.periods[h].windDirection,Z=p.properties.periods[h].dewpoint.value,te=p.properties.periods[h].shortForecast,$=p.properties.periods[h].probabilityOfPrecipitation.value?p.properties.periods[h].probabilityofPrecipitation.value:0;m.push(new f(x,A,J,X,ee,K,Z,te,$))}}catch(d){console.log(d)}}function w(){r=this.value,t(0,r)}return[r,D,H,L,m,j,P,T,w,()=>{P()},()=>{T(r)}]}class it extends Ke{constructor(i){super(),Qe(this,i,xe,$e,Ge,{})}}export{it as component};
